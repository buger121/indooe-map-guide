<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>地图导航</title>
    <link rel="stylesheet" href="style.css">
    <!-- <link rel="stylesheet" href="landscape.css"> -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <div id="map-container"></div>

    <div class="search">
        <button type="button" id="startnav" class="btn btn-secondary" style="border: none">
            查找路径
        </button>
    </div>
    <!--  导航选点 -->
    <div id="router" class="layer router">
        <div class="routerInput">
            <input id="startText" class="routerText" type="" name="" placeholder="点击地图可选择起点" readonly>
        </div>
        <div class="routerInput">
            <input id="endText" class="routerText" type="" name="" placeholder="点击地图可选择终点" readonly>
        </div>
    </div>

    <div class="btns">
        <button id="btn2D" class="btn btn-default btn-info">2D</button>
        <button id="btn3D" class="btn btn-default btn-info">3D</button>
    </div>

    <script src="lib/esmap.min.js"></script>
    <script src="lib/jquery-3.3.1.js"></script>
    <script src="index.js"></script>
    <script src="search.js"></script>
    <script>
        changeOrientation(document.querySelector('body'));

        function changeOrientation( $print ){  
            console.log($print.style)
            var width = document.documentElement.clientWidth;
            var height =  document.documentElement.clientHeight;
            if( width < height ){
            // 竖屏
            $print.style.width = height;
            $print.style.height = width;
            $print.style.top = (height-width)/2;
            $print.style.left = 0-(height-width)/2;
            $print.setAttribute('transfrom', 'rotate(90deg)');
            $print.style.transformOrigin = '50% 50%';
            } 
            var evt = "onorientationchange" in window ? "orientationchange" : "resize";
            window.addEventListener(evt, function() {
                // console.log(evt);
                setTimeout( function(){
                    var width = document.documentElement.clientWidth;
                    var height =  document.documentElement.clientHeight;
                    if( width > height ){
                    // 横屏
                    $print.style.width = width;
                    $print.style.height = height;
                    $print.style.top = 0;
                    $print.style.left = 0;
                    $print.setAttribute('transfrom', 'none');
                    $print.style.transformOrigin = '50% 50%';
                    }
                    else{
                        // 竖屏
                        $print.style.width = height;
                        $print.style.height = width;
                        $print.style.top = (height-width)/2;
                        $print.style.left = 0-(height-width)/2;
                        $print.setAttribute('transfrom', 'rotate(90deg)');
                        $print.style.transformOrigin = '50% 50%';
                    }
                    
                }  , 300 );

            }, false);
        }
    </script>
</body>
</html>